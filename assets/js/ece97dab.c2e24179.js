"use strict";(globalThis.webpackChunkphysical_ai_robotics_book=globalThis.webpackChunkphysical_ai_robotics_book||[]).push([[933],{3325:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"chapter5_unity_simulation","title":"Chapter 5: Unity for Robotics Simulation","description":"Introduction","source":"@site/docs/chapter5_unity_simulation.md","sourceDirName":".","slug":"/chapter5_unity_simulation","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapter5_unity_simulation","draft":false,"unlisted":false,"editUrl":"https://github.com/Salwagull/Physical-AI-Humanoid-Robotics/tree/main/docs/chapter5_unity_simulation.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 4: Gazebo for Robot Simulation","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapter4_gazebo_simulation"},"next":{"title":"Chapter 6: Introduction to NVIDIA Isaac Sim & Machine Learning for Physical AI","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapter6_intro_isaac_sim"}}');var t=i(4848),s=i(8453);const o={sidebar_position:6},l="Chapter 5: Unity for Robotics Simulation",a={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Conceptual Overview",id:"conceptual-overview",level:2},{value:"Why Unity for Robotics?",id:"why-unity-for-robotics",level:3},{value:"Unity Robotics Hub",id:"unity-robotics-hub",level:3},{value:"Technical Implementation",id:"technical-implementation",level:2},{value:"Setting Up Unity for Robotics",id:"setting-up-unity-for-robotics",level:3},{value:"Creating a Simple Robot Scene",id:"creating-a-simple-robot-scene",level:3},{value:"Running the Simulation",id:"running-the-simulation",level:3},{value:"Practical Example: Synthetic Data Generation",id:"practical-example-synthetic-data-generation",level:2},{value:"Visual Aids",id:"visual-aids",level:2},{value:"Unity vs Gazebo Workflow",id:"unity-vs-gazebo-workflow",level:3},{value:"Unity Robotics Architecture",id:"unity-robotics-architecture",level:3},{value:"Summary and Next Steps",id:"summary-and-next-steps",level:2},{value:"Exercises and Challenges",id:"exercises-and-challenges",level:2},{value:"Further Reading",id:"further-reading",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"chapter-5-unity-for-robotics-simulation",children:"Chapter 5: Unity for Robotics Simulation"})}),"\n",(0,t.jsx)(e.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsx)(e.p,{children:"Unity is a powerful game engine that has found a second life in robotics. While Gazebo excels at physics accuracy, Unity brings stunning visuals, VR/AR support, massive asset libraries, and machine learning integration. Unity is ideal for human-robot interaction research, synthetic data generation for AI training, and creating photorealistic simulations."}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Learning Objectives:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Understand Unity's role in robotics simulation"}),"\n",(0,t.jsx)(e.li,{children:"Learn Unity Robotics Hub and ROS integration"}),"\n",(0,t.jsx)(e.li,{children:"Create robot scenes with Unity's physics engine"}),"\n",(0,t.jsx)(e.li,{children:"Generate synthetic training data for ML models"}),"\n",(0,t.jsx)(e.li,{children:"Compare Unity vs Gazebo for different use cases"}),"\n",(0,t.jsx)(e.li,{children:"Build interactive robot demonstrations"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Prerequisites:"})," Chapter 4 (Gazebo), basic understanding of game engines, C# programming basics"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Why This Matters:"})," Unity enables simulations that Gazebo can't match\u2014photorealistic rendering for computer vision, VR/AR interfaces for teleoperation, and massive procedural environments for reinforcement learning. It's becoming the standard for ML-driven robotics research."]}),"\n",(0,t.jsx)(e.h2,{id:"conceptual-overview",children:"Conceptual Overview"}),"\n",(0,t.jsx)(e.h3,{id:"why-unity-for-robotics",children:"Why Unity for Robotics?"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Unity's Strengths:"})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Photorealistic Rendering"}),": High-quality graphics for vision systems"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Asset Ecosystem"}),": Thousands of 3D models, textures, and environments"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"ML Integration"}),": Unity ML-Agents for reinforcement learning"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"VR/AR Support"}),": Native support for immersive interfaces"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Cross-Platform"}),": Deploy to desktop, mobile, web, VR headsets"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Procedural Generation"}),": Create infinite training scenarios"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Real-Time Performance"}),": Optimized for interactive experiences"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Unity vs Gazebo"}),":"]}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Feature"}),(0,t.jsx)(e.th,{children:"Unity"}),(0,t.jsx)(e.th,{children:"Gazebo"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Physics Accuracy"})}),(0,t.jsx)(e.td,{children:"Good"}),(0,t.jsx)(e.td,{children:"Excellent"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Visual Quality"})}),(0,t.jsx)(e.td,{children:"Excellent"}),(0,t.jsx)(e.td,{children:"Good"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Asset Library"})}),(0,t.jsx)(e.td,{children:"Massive"}),(0,t.jsx)(e.td,{children:"Limited"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"ML Integration"})}),(0,t.jsx)(e.td,{children:"Built-in"}),(0,t.jsx)(e.td,{children:"External"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"VR/AR"})}),(0,t.jsx)(e.td,{children:"Native"}),(0,t.jsx)(e.td,{children:"Limited"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"ROS Integration"})}),(0,t.jsx)(e.td,{children:"Via Unity Robotics Hub"}),(0,t.jsx)(e.td,{children:"Native"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Learning Curve"})}),(0,t.jsx)(e.td,{children:"Moderate (C#)"}),(0,t.jsx)(e.td,{children:"Moderate (SDF/C++)"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.strong,{children:"Use Case"})}),(0,t.jsx)(e.td,{children:"Vision, HRI, ML training"}),(0,t.jsx)(e.td,{children:"Navigation, manipulation"})]})]})]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"When to Use Unity:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Computer vision algorithm development"}),"\n",(0,t.jsx)(e.li,{children:"Synthetic data generation for deep learning"}),"\n",(0,t.jsx)(e.li,{children:"Human-robot interaction studies"}),"\n",(0,t.jsx)(e.li,{children:"VR/AR teleoperation"}),"\n",(0,t.jsx)(e.li,{children:"Photorealistic product demos"}),"\n",(0,t.jsx)(e.li,{children:"Procedural environment generation"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"When to Use Gazebo:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"High-fidelity physics simulation"}),"\n",(0,t.jsx)(e.li,{children:"ROS-centric workflows"}),"\n",(0,t.jsx)(e.li,{children:"Real-world robot validation"}),"\n",(0,t.jsx)(e.li,{children:"Navigation stack testing"}),"\n",(0,t.jsx)(e.li,{children:"Multi-robot coordination"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"unity-robotics-hub",children:"Unity Robotics Hub"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Unity Robotics Hub"})," is Unity's official solution for robotics development:"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Components:"})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Unity ROS Integration"}),": Bidirectional communication with ROS/ROS 2"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"URDF Importer"}),": Import robot models from ROS"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Articulation Body"}),": Advanced physics for robotic joints"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Computer Vision Tools"}),": Sensor simulation and labeling"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Example Projects"}),": Pre-built robotics scenarios"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Architecture:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502              Unity Simulation                       \u2502\r\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\r\n\u2502                                                     \u2502\r\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\r\n\u2502  \u2502   Robot    \u2502         \u2502  Environment\u2502           \u2502\r\n\u2502  \u2502  (URDF)    \u2502         \u2502  (Sensors)  \u2502           \u2502\r\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\r\n\u2502         \u2502                      \u2502                   \u2502\r\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                   \u2502\r\n\u2502                    \u2502                               \u2502\r\n\u2502           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                     \u2502\r\n\u2502           \u2502 ROS TCP Connector\u2502                     \u2502\r\n\u2502           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                     \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2518\r\n                     \u2502 TCP/IP\r\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n              \u2502 ROS 2 Node  \u2502\r\n              \u2502(Endpoint)   \u2502\r\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n                     \u2502\r\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n              \u2502 Your ROS 2  \u2502\r\n              \u2502 Application \u2502\r\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Communication Flow:"})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Unity publishes sensor data (cameras, lidar) \u2192 ROS 2 topics"}),"\n",(0,t.jsx)(e.li,{children:"ROS 2 publishes commands (Twist, JointState) \u2192 Unity subscribes"}),"\n",(0,t.jsx)(e.li,{children:"All communication via TCP using ROS messages"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"technical-implementation",children:"Technical Implementation"}),"\n",(0,t.jsx)(e.h3,{id:"setting-up-unity-for-robotics",children:"Setting Up Unity for Robotics"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Prerequisites:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Unity Hub (latest)"}),"\n",(0,t.jsx)(e.li,{children:"Unity Editor 2021.3 LTS or newer"}),"\n",(0,t.jsx)(e.li,{children:"ROS 2 Humble installed"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Installation Steps:"})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Create Unity Project:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Open Unity Hub \u2192 New Project"}),"\n",(0,t.jsx)(e.li,{children:"Template: 3D (URP for better graphics)"}),"\n",(0,t.jsx)(e.li,{children:'Name: "RoboticsSimulation"'}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Install Unity Robotics Hub:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Window \u2192 Package Manager"}),"\n",(0,t.jsxs)(e.li,{children:["Add package from git URL:","\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"https://github.com/Unity-Technologies/Unity-Robotics-Hub.git?path=/com.unity.robotics.ros-tcp-connector\n"})}),"\n"]}),"\n",(0,t.jsx)(e.li,{children:"Also install: URDF Importer package"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Configure ROS Connection:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Robotics \u2192 ROS Settings"}),"\n",(0,t.jsxs)(e.li,{children:["ROS IP Address: ",(0,t.jsx)(e.code,{children:"127.0.0.1"})," (localhost)"]}),"\n",(0,t.jsxs)(e.li,{children:["ROS Port: ",(0,t.jsx)(e.code,{children:"10000"})]}),"\n",(0,t.jsx)(e.li,{children:"Protocol: ROS 2"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"creating-a-simple-robot-scene",children:"Creating a Simple Robot Scene"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Step 1: Create the Environment"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:"// GroundPlane.cs - Simple ground plane\r\nusing UnityEngine;\r\n\r\npublic class GroundPlane : MonoBehaviour\r\n{\r\n    void Start()\r\n    {\r\n        // Create ground plane\r\n        GameObject ground = GameObject.CreatePrimitive(PrimitiveType.Plane);\r\n        ground.transform.position = Vector3.zero;\r\n        ground.transform.localScale = new Vector3(10, 1, 10);\r\n\r\n        // Add physics\r\n        ground.AddComponent<MeshCollider>();\r\n    }\r\n}\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Step 2: Import Robot from URDF"})}),"\n",(0,t.jsx)(e.p,{children:"Unity can import ROS URDF files directly:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Assets \u2192 Import Robot from URDF"}),"\n",(0,t.jsx)(e.li,{children:"Select your robot's URDF file"}),"\n",(0,t.jsx)(e.li,{children:"Unity creates GameObjects for each link"}),"\n",(0,t.jsx)(e.li,{children:"Joints are configured automatically"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Step 3: Add ROS Communication"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'// RobotController.cs - Subscribe to /cmd_vel and move robot\r\nusing UnityEngine;\r\nusing Unity.Robotics.ROSTCPConnector;\r\nusing RosMessageTypes.Geometry;\r\n\r\npublic class RobotController : MonoBehaviour\r\n{\r\n    private ROSConnection ros;\r\n    private Rigidbody rb;\r\n\r\n    [SerializeField] private float speed = 2.0f;\r\n    [SerializeField] private float turnSpeed = 100.0f;\r\n\r\n    void Start()\r\n    {\r\n        // Get ROS connection\r\n        ros = ROSConnection.GetOrCreateInstance();\r\n        ros.Subscribe<TwistMsg>("/cmd_vel", ReceiveVelocityCommand);\r\n\r\n        // Get physics component\r\n        rb = GetComponent<Rigidbody>();\r\n\r\n        Debug.Log("Robot Controller: Subscribed to /cmd_vel");\r\n    }\r\n\r\n    void ReceiveVelocityCommand(TwistMsg twist)\r\n    {\r\n        // Extract linear and angular velocities\r\n        float linear = (float)twist.linear.x;\r\n        float angular = (float)twist.angular.z;\r\n\r\n        // Apply to robot (Unity uses different coordinate system)\r\n        Vector3 movement = transform.forward * linear * speed;\r\n        rb.velocity = movement;\r\n\r\n        float turnAmount = angular * turnSpeed * Time.deltaTime;\r\n        transform.Rotate(0, turnAmount, 0);\r\n    }\r\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Step 4: Publish Sensor Data"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'// CameraPublisher.cs - Publish camera images to ROS\r\nusing UnityEngine;\r\nusing Unity.Robotics.ROSTCPConnector;\r\nusing RosMessageTypes.Sensor;\r\n\r\npublic class CameraPublisher : MonoBehaviour\r\n{\r\n    private ROSConnection ros;\r\n    private Camera cam;\r\n\r\n    [SerializeField] private string topicName = "/camera/image_raw";\r\n    [SerializeField] private float publishRate = 10.0f; // Hz\r\n\r\n    private float timer;\r\n\r\n    void Start()\r\n    {\r\n        ros = ROSConnection.GetOrCreateInstance();\r\n        ros.RegisterPublisher<ImageMsg>(topicName);\r\n\r\n        cam = GetComponent<Camera>();\r\n        timer = 0f;\r\n    }\r\n\r\n    void Update()\r\n    {\r\n        timer += Time.deltaTime;\r\n\r\n        if (timer >= 1.0f / publishRate)\r\n        {\r\n            PublishImage();\r\n            timer = 0f;\r\n        }\r\n    }\r\n\r\n    void PublishImage()\r\n    {\r\n        // Capture camera frame\r\n        RenderTexture rt = new RenderTexture(640, 480, 24);\r\n        cam.targetTexture = rt;\r\n        cam.Render();\r\n\r\n        Texture2D image = new Texture2D(640, 480, TextureFormat.RGB24, false);\r\n        RenderTexture.active = rt;\r\n        image.ReadPixels(new Rect(0, 0, 640, 480), 0, 0);\r\n        image.Apply();\r\n\r\n        // Convert to ROS message\r\n        ImageMsg msg = new ImageMsg\r\n        {\r\n            header = new RosMessageTypes.Std.HeaderMsg\r\n            {\r\n                stamp = new RosMessageTypes.BuiltinInterfaces.TimeMsg\r\n                {\r\n                    sec = (int)Time.time,\r\n                    nanosec = (uint)((Time.time % 1) * 1e9)\r\n                }\r\n            },\r\n            height = 480,\r\n            width = 640,\r\n            encoding = "rgb8",\r\n            step = 640 * 3,\r\n            data = image.GetRawTextureData()\r\n        };\r\n\r\n        ros.Publish(topicName, msg);\r\n\r\n        // Cleanup\r\n        cam.targetTexture = null;\r\n        RenderTexture.active = null;\r\n        Destroy(rt);\r\n    }\r\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"running-the-simulation",children:"Running the Simulation"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Terminal 1: Start ROS 2 Endpoint"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Install Unity ROS endpoint\r\npip3 install roslibpy\r\n\r\n# Run endpoint\r\nros2 run ros_tcp_endpoint default_server_endpoint --ros-args -p ROS_IP:=0.0.0.0\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Unity: Press Play"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Terminal 2: Control the Robot"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'ros2 topic pub /cmd_vel geometry_msgs/msg/Twist \\\r\n  "{linear: {x: 1.0}, angular: {z: 0.0}}"\n'})}),"\n",(0,t.jsx)(e.p,{children:"The robot moves in Unity, and camera images are published to ROS!"}),"\n",(0,t.jsx)(e.h2,{id:"practical-example-synthetic-data-generation",children:"Practical Example: Synthetic Data Generation"}),"\n",(0,t.jsx)(e.p,{children:"Unity excels at generating training data for machine learning."}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Scenario:"})," Generate labeled images of objects for object detection training."]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Setup:"})}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsx)(e.li,{children:"Create scene with random objects"}),"\n",(0,t.jsx)(e.li,{children:"Vary lighting, camera angles, backgrounds"}),"\n",(0,t.jsx)(e.li,{children:"Automatically label bounding boxes"}),"\n",(0,t.jsx)(e.li,{children:"Export thousands of images"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Perception Camera Setup:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-csharp",children:'// DatasetGenerator.cs\r\nusing UnityEngine;\r\nusing UnityEngine.Perception.GroundTruth;\r\n\r\npublic class DatasetGenerator : MonoBehaviour\r\n{\r\n    void Start()\r\n    {\r\n        // Add perception camera component\r\n        var perceptionCamera = gameObject.AddComponent<PerceptionCamera>();\r\n\r\n        // Configure labelers\r\n        var labelConfig = ScriptableObject.CreateInstance<IdLabelConfig>();\r\n        // Add labels for objects (e.g., "robot", "obstacle", "target")\r\n\r\n        // Add bounding box labeler\r\n        var boundingBoxLabeler = new BoundingBox2DLabeler(labelConfig);\r\n        perceptionCamera.AddLabeler(boundingBoxLabeler);\r\n\r\n        Debug.Log("Dataset generation configured");\r\n    }\r\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"Unity automatically generates:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"RGB images"}),"\n",(0,t.jsx)(e.li,{children:"Bounding box annotations (COCO format)"}),"\n",(0,t.jsx)(e.li,{children:"Semantic segmentation masks"}),"\n",(0,t.jsx)(e.li,{children:"Instance segmentation"}),"\n",(0,t.jsx)(e.li,{children:"Depth maps"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"Perfect for training YOLO, Faster R-CNN, or other vision models!"}),"\n",(0,t.jsx)(e.h2,{id:"visual-aids",children:"Visual Aids"}),"\n",(0,t.jsx)(e.h3,{id:"unity-vs-gazebo-workflow",children:"Unity vs Gazebo Workflow"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Gazebo Workflow:\r\nDesign \u2192 SDF Model \u2192 Spawn \u2192 Test Physics \u2192 Transfer\r\n\r\nUnity Workflow:\r\nDesign \u2192 Scene Setup \u2192 Import URDF \u2192 Add Sensors \u2192 ML Training \u2192 Transfer\n"})}),"\n",(0,t.jsx)(e.h3,{id:"unity-robotics-architecture",children:"Unity Robotics Architecture"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Unity Scene\r\n  \u251c\u2500\u2500 Robot (URDF)\r\n  \u2502    \u251c\u2500\u2500 Links (Rigid Bodies)\r\n  \u2502    \u251c\u2500\u2500 Joints (Articulations)\r\n  \u2502    \u2514\u2500\u2500 Sensors (Cameras, Lidar)\r\n  \u251c\u2500\u2500 Environment (Assets)\r\n  \u2514\u2500\u2500 ROS TCP Connector\r\n       \u251c\u2500\u2500 Publishers (Sensors \u2192 ROS)\r\n       \u2514\u2500\u2500 Subscribers (ROS \u2192 Actuators)\n"})}),"\n",(0,t.jsx)(e.h2,{id:"summary-and-next-steps",children:"Summary and Next Steps"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Key Takeaways:"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Unity provides photorealistic rendering and massive asset libraries"}),"\n",(0,t.jsx)(e.li,{children:"Unity Robotics Hub enables ROS/ROS 2 integration"}),"\n",(0,t.jsx)(e.li,{children:"URDF importer brings ROS robots into Unity"}),"\n",(0,t.jsx)(e.li,{children:"Unity excels at synthetic data generation for ML"}),"\n",(0,t.jsx)(e.li,{children:"Use Unity for vision, HRI, and ML; use Gazebo for physics accuracy"}),"\n",(0,t.jsx)(e.li,{children:"C# scripts control Unity-ROS communication"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"What You've Learned:"}),"\r\nYou understand Unity's role in robotics, how to integrate Unity with ROS 2, create robot scenes, and generate synthetic training data. You can choose between Unity and Gazebo based on your project needs."]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Up Next:"}),"\r\nIn ",(0,t.jsx)(e.a,{href:"/Physical-AI-Humanoid-Robotics/docs/chapter6_intro_isaac_sim",children:"Chapter 6: Introduction to NVIDIA Isaac Sim"}),", we'll explore the most advanced robotics simulator available. Isaac Sim combines photorealistic rendering, accurate physics, and GPU acceleration\u2014bringing together the best of Unity and Gazebo, plus AI-powered perception and synthetic data generation at massive scale."]}),"\n",(0,t.jsx)(e.h2,{id:"exercises-and-challenges",children:"Exercises and Challenges"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Exercise 1: Basic Scene"}),"\r\nCreate a Unity scene with:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Ground plane"}),"\n",(0,t.jsx)(e.li,{children:"Three obstacles (cubes, spheres)"}),"\n",(0,t.jsx)(e.li,{children:"Directional light"}),"\n",(0,t.jsx)(e.li,{children:"A simple robot (box with wheels)"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Exercise 2: ROS Integration"}),"\r\nSet up ROS TCP Connector and:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Subscribe to ",(0,t.jsx)(e.code,{children:"/cmd_vel"})]}),"\n",(0,t.jsx)(e.li,{children:"Move a cube based on Twist messages"}),"\n",(0,t.jsxs)(e.li,{children:["Publish cube position to ",(0,t.jsx)(e.code,{children:"/object/pose"})]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Exercise 3: Camera Sensor"}),"\r\nAdd a camera to your scene and:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Publish images to ",(0,t.jsx)(e.code,{children:"/camera/image_raw"})]}),"\n",(0,t.jsxs)(e.li,{children:["View images in RViz: ",(0,t.jsx)(e.code,{children:"ros2 run rviz2 rviz2"})]}),"\n",(0,t.jsx)(e.li,{children:"Adjust camera FOV and resolution"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Challenge: Object Detection Dataset"}),"\r\nGenerate a synthetic dataset:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Random object placement (10 objects)"}),"\n",(0,t.jsx)(e.li,{children:"Random lighting (3 light sources at different angles)"}),"\n",(0,t.jsx)(e.li,{children:"Capture 1000 images with bounding boxes"}),"\n",(0,t.jsx)(e.li,{children:"Export in COCO format"}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"https://github.com/Unity-Technologies/Unity-Robotics-Hub",children:"Unity Robotics Hub"})," - Official Unity robotics tools"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"https://github.com/Unity-Technologies/com.unity.perception",children:"Unity Perception Package"})," - Synthetic data generation"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"https://github.com/Unity-Technologies/ml-agents",children:"Unity ML-Agents"})," - Reinforcement learning in Unity"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"https://github.com/Unity-Technologies/URDF-Importer",children:"URDF Importer Guide"})," - Import ROS robots"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Ready to continue?"})," Proceed to ",(0,t.jsx)(e.a,{href:"/Physical-AI-Humanoid-Robotics/docs/chapter6_intro_isaac_sim",children:"Chapter 6: Introduction to NVIDIA Isaac Sim"}),"!"]})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>o,x:()=>l});var r=i(6540);const t={},s=r.createContext(t);function o(n){const e=r.useContext(s);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:o(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);