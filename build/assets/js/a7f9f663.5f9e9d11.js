"use strict";(globalThis.webpackChunkphysical_ai_robotics_book=globalThis.webpackChunkphysical_ai_robotics_book||[]).push([[49],{629:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"chapter3_ros2_basics","title":"Chapter 3: ROS 2 Basics - Nodes, Topics, Services","description":"Introduction","source":"@site/docs/chapter3_ros2_basics.md","sourceDirName":".","slug":"/chapter3_ros2_basics","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapter3_ros2_basics","draft":false,"unlisted":false,"editUrl":"https://github.com/Salwagull/Physical-AI-Humanoid-Robotics/tree/main/docs/chapter3_ros2_basics.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 2: Embodied Intelligence and Robot Interaction","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapter2_embodied_intelligence"},"next":{"title":"Chapter 4: Gazebo for Robot Simulation","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapter4_gazebo_simulation"}}');var i=n(4848),l=n(8453);const o={sidebar_position:4},t="Chapter 3: ROS 2 Basics - Nodes, Topics, Services",c={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Conceptual Overview",id:"conceptual-overview",level:2},{value:"What is ROS 2?",id:"what-is-ros-2",level:3},{value:"Core Concepts: The ROS 2 Graph",id:"core-concepts-the-ros-2-graph",level:3},{value:"Nodes: The Building Blocks",id:"nodes-the-building-blocks",level:3},{value:"Topics and the Publish-Subscribe Pattern",id:"topics-and-the-publish-subscribe-pattern",level:3},{value:"Messages: Structured Data",id:"messages-structured-data",level:3},{value:"Services: Request-Response Communication",id:"services-request-response-communication",level:3},{value:"ROS 2 Communication Architecture",id:"ros-2-communication-architecture",level:3},{value:"Technical Implementation",id:"technical-implementation",level:2},{value:"Setting Up a ROS 2 Workspace",id:"setting-up-a-ros-2-workspace",level:3},{value:"Your First ROS 2 Node: Hello World Publisher",id:"your-first-ros-2-node-hello-world-publisher",level:3},{value:"Your First Subscriber: Hello World Listener",id:"your-first-subscriber-hello-world-listener",level:3},{value:"Understanding the Communication Flow",id:"understanding-the-communication-flow",level:3},{value:"Introspection with ROS 2 CLI Tools",id:"introspection-with-ros-2-cli-tools",level:3},{value:"Practical Example: Robot Velocity Controller",id:"practical-example-robot-velocity-controller",level:2},{value:"Visual Aids",id:"visual-aids",level:2},{value:"ROS 2 Node and Topic Structure",id:"ros-2-node-and-topic-structure",level:3},{value:"Publish-Subscribe vs Service Communication",id:"publish-subscribe-vs-service-communication",level:3},{value:"Summary and Next Steps",id:"summary-and-next-steps",level:2},{value:"Exercises and Challenges",id:"exercises-and-challenges",level:2},{value:"Further Reading",id:"further-reading",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"chapter-3-ros-2-basics---nodes-topics-services",children:"Chapter 3: ROS 2 Basics - Nodes, Topics, Services"})}),"\n",(0,i.jsx)(s.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsx)(s.p,{children:'The Robot Operating System 2 (ROS 2) is the de facto standard middleware for modern robotics development. It provides the communication infrastructure, tools, and libraries that enable you to build complex, distributed robotic systems. Think of ROS 2 as the "nervous system" of your robot\u2014it connects sensors, actuators, planning algorithms, and control systems into a cohesive whole.'}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Learning Objectives:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Understand ROS 2 architecture and its core concepts"}),"\n",(0,i.jsx)(s.li,{children:"Learn about nodes, topics, messages, and the publish-subscribe pattern"}),"\n",(0,i.jsx)(s.li,{children:"Explore services for request-response communication"}),"\n",(0,i.jsx)(s.li,{children:"Create and run your first ROS 2 Python nodes"}),"\n",(0,i.jsx)(s.li,{children:"Master the fundamental patterns for robot communication"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Prerequisites:"})," Chapter 1 (Physical AI), Chapter 2 (Embodied Intelligence), basic Python programming"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Why This Matters:"})," ROS 2 is the foundation for nearly all modern robotics software. Whether you're building autonomous vehicles, industrial robots, or research platforms, ROS 2 provides the essential infrastructure. Mastering ROS 2 is non-negotiable for serious robotics development."]}),"\n",(0,i.jsx)(s.h2,{id:"conceptual-overview",children:"Conceptual Overview"}),"\n",(0,i.jsx)(s.h3,{id:"what-is-ros-2",children:"What is ROS 2?"}),"\n",(0,i.jsx)(s.p,{children:"ROS 2 (Robot Operating System 2) is not actually an operating system in the traditional sense\u2014it's a middleware framework and set of tools for building robot applications. ROS 2 provides:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Communication infrastructure"}),": Nodes can exchange data seamlessly"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Hardware abstraction"}),": Write code once, run on different robots"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Standard message types"}),": Common data formats for sensors and actuators"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Tools and libraries"}),": Visualization, simulation, debugging, and more"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Package management"}),": Organize and share robot software"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Key improvement in ROS 2"}),": Unlike ROS 1, ROS 2 is built on DDS (Data Distribution Service), an industry-standard protocol. This makes ROS 2 more reliable, secure, and suitable for production environments."]}),"\n",(0,i.jsx)(s.h3,{id:"core-concepts-the-ros-2-graph",children:"Core Concepts: The ROS 2 Graph"}),"\n",(0,i.jsxs)(s.p,{children:["ROS 2 applications are built as a ",(0,i.jsx)(s.strong,{children:"computation graph"}),"\u2014a network of processes (nodes) that communicate via topics and services."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"The ROS 2 Graph consists of:"})}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Nodes"}),": Independent processes that perform specific tasks"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Topics"}),": Named channels for asynchronous data streaming"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Messages"}),": Data structures sent over topics"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Services"}),": Request-response communication between nodes"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Actions"}),": Long-running tasks with feedback (we'll cover this in later chapters)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Parameters"}),": Configuration values for nodes"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"nodes-the-building-blocks",children:"Nodes: The Building Blocks"}),"\n",(0,i.jsxs)(s.p,{children:["A ",(0,i.jsx)(s.strong,{children:"node"})," is a single-purpose executable process. In ROS 2, you design your robot software as a collection of nodes, each responsible for one aspect of functionality."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Examples of nodes:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Camera driver node (publishes images)"}),"\n",(0,i.jsx)(s.li,{children:"Object detection node (subscribes to images, publishes detections)"}),"\n",(0,i.jsx)(s.li,{children:"Path planner node (computes navigation paths)"}),"\n",(0,i.jsx)(s.li,{children:"Motor controller node (sends commands to actuators)"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Why use nodes?"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Modularity"}),": Each node does one thing well"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Reusability"}),": Nodes can be reused across different robots"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Fault isolation"}),": If one node crashes, others continue running"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Distributed computing"}),": Nodes can run on different machines"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"topics-and-the-publish-subscribe-pattern",children:"Topics and the Publish-Subscribe Pattern"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Topics"})," are the primary mechanism for data flow in ROS 2. They implement the ",(0,i.jsx)(s.strong,{children:"publish-subscribe"})," pattern:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Publishers"})," produce data and send it to a topic"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Subscribers"})," consume data from a topic"]}),"\n",(0,i.jsxs)(s.li,{children:["Publishers and subscribers don't know about each other\u2014they're ",(0,i.jsx)(s.strong,{children:"decoupled"})]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"Camera Node (Publisher) \u2500\u2500[/camera/image]\u2500\u2500> Object Detector (Subscriber)\r\n                                         \u2514\u2500\u2500> Display Node (Subscriber)\n"})}),"\n",(0,i.jsxs)(s.p,{children:["The camera node publishes images to ",(0,i.jsx)(s.code,{children:"/camera/image"}),". Both the object detector and display node subscribe to that topic. The camera doesn't know or care who's listening."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Benefits of pub-sub:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Loose coupling"}),": Add/remove nodes without changing others"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Many-to-many"}),": Multiple publishers, multiple subscribers"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Asynchronous"}),": Non-blocking communication"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"messages-structured-data",children:"Messages: Structured Data"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Messages"})," define the data structure sent over topics. ROS 2 provides many standard message types:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"std_msgs/String"}),": Simple text messages"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"sensor_msgs/Image"}),": Camera images"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"sensor_msgs/LaserScan"}),": Lidar data"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"geometry_msgs/Twist"}),": Velocity commands for mobile robots"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"nav_msgs/Odometry"}),": Robot position and velocity"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"You can also define custom messages for your specific needs."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsxs)(s.strong,{children:["Message Definition Example (",(0,i.jsx)(s.code,{children:"geometry_msgs/Twist"}),"):"]})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"Vector3 linear    # Linear velocity (x, y, z)\r\nVector3 angular   # Angular velocity (roll, pitch, yaw)\n"})}),"\n",(0,i.jsx)(s.h3,{id:"services-request-response-communication",children:"Services: Request-Response Communication"}),"\n",(0,i.jsxs)(s.p,{children:["While topics are great for continuous data streams, sometimes you need ",(0,i.jsx)(s.strong,{children:"request-response"})," communication. That's where ",(0,i.jsx)(s.strong,{children:"services"})," come in."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Service pattern:"})}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Client sends a request to a service"}),"\n",(0,i.jsx)(s.li,{children:"Server processes the request"}),"\n",(0,i.jsx)(s.li,{children:"Server sends a response back to the client"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Example use cases:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:'"Calculate the inverse kinematics for this pose" \u2192 response with joint angles'}),"\n",(0,i.jsx)(s.li,{children:'"Is the path clear?" \u2192 response: yes/no'}),"\n",(0,i.jsx)(s.li,{children:'"Save the current map" \u2192 response: success/failure'}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Services are ",(0,i.jsx)(s.strong,{children:"synchronous and blocking"}),": the client waits for the response."]}),"\n",(0,i.jsx)(s.h3,{id:"ros-2-communication-architecture",children:"ROS 2 Communication Architecture"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502                     ROS 2 Graph                          \u2502\r\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\r\n\u2502                                                          \u2502\r\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   /cmd_vel    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\r\n\u2502   \u2502 Planner \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500> \u2502   Robot     \u2502           \u2502\r\n\u2502   \u2502  Node   \u2502   (Twist msg)  \u2502  Controller \u2502           \u2502\r\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\r\n\u2502        \u2191                                                \u2502\r\n\u2502        \u2502                                                \u2502\r\n\u2502        \u2502 /scan                                          \u2502\r\n\u2502        \u2502 (LaserScan)                                    \u2502\r\n\u2502        \u2502                                                \u2502\r\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                           \u2502\r\n\u2502   \u2502  Lidar  \u2502                                           \u2502\r\n\u2502   \u2502  Node   \u2502                                           \u2502\r\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                           \u2502\r\n\u2502                                                          \u2502\r\n\u2502   [All connected via DDS middleware]                    \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Data flow:"})}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Lidar node publishes scan data to ",(0,i.jsx)(s.code,{children:"/scan"})," topic"]}),"\n",(0,i.jsxs)(s.li,{children:["Planner node subscribes to ",(0,i.jsx)(s.code,{children:"/scan"}),", processes obstacle data"]}),"\n",(0,i.jsxs)(s.li,{children:["Planner computes safe velocity and publishes to ",(0,i.jsx)(s.code,{children:"/cmd_vel"})]}),"\n",(0,i.jsxs)(s.li,{children:["Robot controller subscribes to ",(0,i.jsx)(s.code,{children:"/cmd_vel"})," and moves the robot"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"All of this happens asynchronously, in real-time, with minimal latency."}),"\n",(0,i.jsx)(s.h2,{id:"technical-implementation",children:"Technical Implementation"}),"\n",(0,i.jsx)(s.h3,{id:"setting-up-a-ros-2-workspace",children:"Setting Up a ROS 2 Workspace"}),"\n",(0,i.jsx)(s.p,{children:"Before writing nodes, you need a ROS 2 workspace. A workspace organizes your packages."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Workspace structure:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"ros2_workspace/\r\n\u251c\u2500\u2500 src/              # Source code for packages\r\n\u2502   \u2514\u2500\u2500 my_package/\r\n\u2502       \u251c\u2500\u2500 my_package/\r\n\u2502       \u2502   \u2514\u2500\u2500 node.py\r\n\u2502       \u251c\u2500\u2500 package.xml\r\n\u2502       \u2514\u2500\u2500 setup.py\r\n\u251c\u2500\u2500 build/            # Build artifacts\r\n\u251c\u2500\u2500 install/          # Installed packages\r\n\u2514\u2500\u2500 log/              # Build logs\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Creating a workspace:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"mkdir -p ~/ros2_workspace/src\r\ncd ~/ros2_workspace\r\ncolcon build\r\nsource install/setup.bash\n"})}),"\n",(0,i.jsx)(s.h3,{id:"your-first-ros-2-node-hello-world-publisher",children:"Your First ROS 2 Node: Hello World Publisher"}),"\n",(0,i.jsx)(s.p,{children:'Let\'s create a simple publisher that sends "Hello, ROS 2!" messages.'}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsxs)(s.strong,{children:["File: ",(0,i.jsx)(s.code,{children:"hello_publisher.py"})]})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass HelloPublisher(Node):\r\n    def __init__(self):\r\n        # Initialize the node with a name\r\n        super().__init__('hello_publisher')\r\n\r\n        # Create a publisher\r\n        # Parameters: message type, topic name, queue size\r\n        self.publisher = self.create_publisher(String, 'hello_topic', 10)\r\n\r\n        # Create a timer that calls timer_callback every 1 second\r\n        self.timer = self.create_timer(1.0, self.timer_callback)\r\n\r\n        # Counter for messages\r\n        self.counter = 0\r\n\r\n        self.get_logger().info('Hello Publisher has started!')\r\n\r\n    def timer_callback(self):\r\n        \"\"\"\r\n        Called every 1 second to publish a message\r\n        \"\"\"\r\n        # Create a message\r\n        msg = String()\r\n        msg.data = f'Hello, ROS 2! Message #{self.counter}'\r\n\r\n        # Publish the message\r\n        self.publisher.publish(msg)\r\n\r\n        # Log what we published\r\n        self.get_logger().info(f'Published: \"{msg.data}\"')\r\n\r\n        self.counter += 1\r\n\r\ndef main(args=None):\r\n    # Initialize ROS 2\r\n    rclpy.init(args=args)\r\n\r\n    # Create the node\r\n    node = HelloPublisher()\r\n\r\n    # Keep the node running\r\n    try:\r\n        rclpy.spin(node)\r\n    except KeyboardInterrupt:\r\n        pass\r\n\r\n    # Cleanup\r\n    node.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Key Components:"})}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Node Initialization"}),": ",(0,i.jsx)(s.code,{children:"super().__init__('hello_publisher')"}),' creates a node named "hello_publisher"']}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Publisher Creation"}),": ",(0,i.jsx)(s.code,{children:"self.create_publisher(String, 'hello_topic', 10)"})," creates a publisher for String messages on the 'hello_topic' topic"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Timer"}),": ",(0,i.jsx)(s.code,{children:"self.create_timer(1.0, self.timer_callback)"})," calls ",(0,i.jsx)(s.code,{children:"timer_callback()"})," every second"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Message Publishing"}),": ",(0,i.jsx)(s.code,{children:"self.publisher.publish(msg)"})," sends the message"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Spinning"}),": ",(0,i.jsx)(s.code,{children:"rclpy.spin(node)"})," keeps the node running and processing callbacks"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Running the node:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"python3 hello_publisher.py\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Expected Output:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'[INFO] [hello_publisher]: Hello Publisher has started!\r\n[INFO] [hello_publisher]: Published: "Hello, ROS 2! Message #0"\r\n[INFO] [hello_publisher]: Published: "Hello, ROS 2! Message #1"\r\n[INFO] [hello_publisher]: Published: "Hello, ROS 2! Message #2"\r\n...\n'})}),"\n",(0,i.jsx)(s.h3,{id:"your-first-subscriber-hello-world-listener",children:"Your First Subscriber: Hello World Listener"}),"\n",(0,i.jsx)(s.p,{children:"Now let's create a subscriber that listens to the messages published by our publisher."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsxs)(s.strong,{children:["File: ",(0,i.jsx)(s.code,{children:"hello_subscriber.py"})]})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass HelloSubscriber(Node):\r\n    def __init__(self):\r\n        # Initialize the node\r\n        super().__init__('hello_subscriber')\r\n\r\n        # Create a subscriber\r\n        # Parameters: message type, topic name, callback function, queue size\r\n        self.subscription = self.create_subscription(\r\n            String,\r\n            'hello_topic',\r\n            self.listener_callback,\r\n            10\r\n        )\r\n\r\n        self.get_logger().info('Hello Subscriber has started! Waiting for messages...')\r\n\r\n    def listener_callback(self, msg):\r\n        \"\"\"\r\n        Called whenever a message arrives on hello_topic\r\n        \"\"\"\r\n        self.get_logger().info(f'Received: \"{msg.data}\"')\r\n\r\ndef main(args=None):\r\n    # Initialize ROS 2\r\n    rclpy.init(args=args)\r\n\r\n    # Create the node\r\n    node = HelloSubscriber()\r\n\r\n    # Keep the node running\r\n    try:\r\n        rclpy.spin(node)\r\n    except KeyboardInterrupt:\r\n        pass\r\n\r\n    # Cleanup\r\n    node.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Key Components:"})}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Subscription"}),": ",(0,i.jsx)(s.code,{children:"self.create_subscription(String, 'hello_topic', self.listener_callback, 10)"})," subscribes to 'hello_topic'"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Callback Function"}),": ",(0,i.jsx)(s.code,{children:"listener_callback(self, msg)"})," is called automatically whenever a message arrives"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Message Access"}),": ",(0,i.jsx)(s.code,{children:"msg.data"})," contains the string sent by the publisher"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Running the subscriber"})," (in a separate terminal):"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"python3 hello_subscriber.py\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Expected Output:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'[INFO] [hello_subscriber]: Hello Subscriber has started! Waiting for messages...\r\n[INFO] [hello_subscriber]: Received: "Hello, ROS 2! Message #5"\r\n[INFO] [hello_subscriber]: Received: "Hello, ROS 2! Message #6"\r\n[INFO] [hello_subscriber]: Received: "Hello, ROS 2! Message #7"\r\n...\n'})}),"\n",(0,i.jsx)(s.h3,{id:"understanding-the-communication-flow",children:"Understanding the Communication Flow"}),"\n",(0,i.jsx)(s.p,{children:"When both nodes are running:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Publisher"})," creates messages every second"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"DDS Middleware"})," transmits messages over the network (even on localhost)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Subscriber"})," receives messages and invokes the callback"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Callback"})," processes the message (in this case, logs it)"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"The beauty: publisher and subscriber don't know about each other. You can:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Start/stop them in any order"}),"\n",(0,i.jsx)(s.li,{children:"Run multiple subscribers on the same topic"}),"\n",(0,i.jsx)(s.li,{children:"Run publishers and subscribers on different machines"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"introspection-with-ros-2-cli-tools",children:"Introspection with ROS 2 CLI Tools"}),"\n",(0,i.jsx)(s.p,{children:"ROS 2 provides powerful command-line tools for debugging and introspection."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"List all nodes:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 node list\n"})}),"\n",(0,i.jsx)(s.p,{children:"Output:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"/hello_publisher\r\n/hello_subscriber\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"List all topics:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic list\n"})}),"\n",(0,i.jsx)(s.p,{children:"Output:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"/hello_topic\r\n/parameter_events\r\n/rosout\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"See information about a topic:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic info /hello_topic\n"})}),"\n",(0,i.jsx)(s.p,{children:"Output:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"Type: std_msgs/msg/String\r\nPublisher count: 1\r\nSubscription count: 1\n"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Echo messages on a topic"})," (see live data):"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic echo /hello_topic\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Check the message rate:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic hz /hello_topic\n"})}),"\n",(0,i.jsx)(s.p,{children:"Output:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"average rate: 1.000\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Publish a message manually:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic pub /hello_topic std_msgs/msg/String \"{data: 'Manual message'}\"\n"})}),"\n",(0,i.jsx)(s.p,{children:"These tools are invaluable for debugging and understanding your ROS 2 system."}),"\n",(0,i.jsx)(s.h2,{id:"practical-example-robot-velocity-controller",children:"Practical Example: Robot Velocity Controller"}),"\n",(0,i.jsx)(s.p,{children:"Let's build something more realistic: a node that controls a robot's velocity based on sensor input."}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Scenario:"})," A mobile robot uses lidar to detect obstacles. If an obstacle is too close, the robot slows down."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsxs)(s.strong,{children:["File: ",(0,i.jsx)(s.code,{children:"obstacle_avoider.py"})]})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom sensor_msgs.msg import LaserScan\r\nfrom geometry_msgs.msg import Twist\r\n\r\nclass ObstacleAvoider(Node):\r\n    def __init__(self):\r\n        super().__init__('obstacle_avoider')\r\n\r\n        # Subscribe to lidar data\r\n        self.scan_sub = self.create_subscription(\r\n            LaserScan,\r\n            '/scan',\r\n            self.scan_callback,\r\n            10\r\n        )\r\n\r\n        # Publish velocity commands\r\n        self.cmd_pub = self.create_publisher(Twist, '/cmd_vel', 10)\r\n\r\n        # Safety parameters\r\n        self.safe_distance = 1.0  # meters\r\n        self.max_speed = 0.5      # m/s\r\n\r\n        self.get_logger().info('Obstacle Avoider started. Safe distance: 1.0m')\r\n\r\n    def scan_callback(self, msg):\r\n        \"\"\"\r\n        Process lidar data and adjust robot speed\r\n        \"\"\"\r\n        # Find minimum distance from lidar scan\r\n        # Filter out invalid readings (0.0 or inf)\r\n        valid_ranges = [r for r in msg.ranges if r > 0.1 and r < 10.0]\r\n\r\n        if not valid_ranges:\r\n            self.get_logger().warn('No valid lidar data!')\r\n            return\r\n\r\n        min_distance = min(valid_ranges)\r\n\r\n        # Create velocity command\r\n        cmd = Twist()\r\n\r\n        if min_distance < self.safe_distance:\r\n            # Too close! Slow down proportionally\r\n            speed_factor = min_distance / self.safe_distance\r\n            cmd.linear.x = self.max_speed * speed_factor\r\n\r\n            self.get_logger().info(\r\n                f'Obstacle at {min_distance:.2f}m - Slowing to {cmd.linear.x:.2f}m/s'\r\n            )\r\n        else:\r\n            # Clear path, full speed ahead\r\n            cmd.linear.x = self.max_speed\r\n            self.get_logger().info(\r\n                f'Path clear ({min_distance:.2f}m) - Full speed: {self.max_speed}m/s'\r\n            )\r\n\r\n        # No rotation for this simple example\r\n        cmd.angular.z = 0.0\r\n\r\n        # Publish the velocity command\r\n        self.cmd_pub.publish(cmd)\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = ObstacleAvoider()\r\n\r\n    try:\r\n        rclpy.spin(node)\r\n    except KeyboardInterrupt:\r\n        pass\r\n\r\n    node.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"How it works:"})}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsxs)(s.strong,{children:["Subscribe to ",(0,i.jsx)(s.code,{children:"/scan"})]}),": Receives lidar data (LaserScan messages)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Process data"}),": Finds the minimum distance to any obstacle"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Compute velocity"}),": Slows down proportionally as obstacles get closer"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsxs)(s.strong,{children:["Publish to ",(0,i.jsx)(s.code,{children:"/cmd_vel"})]}),": Sends Twist (velocity) commands to the robot"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Expected Behavior:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"No obstacles nearby"})," (> 1.0m): Robot moves at 0.5 m/s"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Obstacle at 0.5m"}),": Robot slows to 0.25 m/s (50% speed)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Obstacle at 0.2m"}),": Robot slows to 0.1 m/s (20% speed)"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["This demonstrates the classic ROS 2 pattern: ",(0,i.jsx)(s.strong,{children:"sense \u2192 process \u2192 act"}),", all through pub-sub communication."]}),"\n",(0,i.jsx)(s.h2,{id:"visual-aids",children:"Visual Aids"}),"\n",(0,i.jsx)(s.h3,{id:"ros-2-node-and-topic-structure",children:"ROS 2 Node and Topic Structure"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502                     ROS 2 Computation Graph                 \u2502\r\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\r\n\u2502                                                             \u2502\r\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\r\n\u2502  \u2502   Publisher  \u2502                    \u2502  Subscriber  \u2502     \u2502\r\n\u2502  \u2502     Node     \u2502                    \u2502     Node     \u2502     \u2502\r\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\r\n\u2502         \u2502                                    \u2502             \u2502\r\n\u2502         \u2502 publish()                subscribe()\u2502             \u2502\r\n\u2502         \u2193                                    \u2193             \u2502\r\n\u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\r\n\u2502    \u2502         Topic: /hello_topic                \u2502          \u2502\r\n\u2502    \u2502    Message Type: std_msgs/String           \u2502          \u2502\r\n\u2502    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\r\n\u2502                                                             \u2502\r\n\u2502              [DDS Middleware Layer]                         \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(s.h3,{id:"publish-subscribe-vs-service-communication",children:"Publish-Subscribe vs Service Communication"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Aspect"}),(0,i.jsx)(s.th,{children:"Topics (Pub-Sub)"}),(0,i.jsx)(s.th,{children:"Services (Req-Res)"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Pattern"}),(0,i.jsx)(s.td,{children:"Asynchronous streaming"}),(0,i.jsx)(s.td,{children:"Synchronous request-response"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Direction"}),(0,i.jsx)(s.td,{children:"One-to-many"}),(0,i.jsx)(s.td,{children:"One-to-one"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Use Case"}),(0,i.jsx)(s.td,{children:"Continuous data (sensors)"}),(0,i.jsx)(s.td,{children:"Occasional queries"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Blocking"}),(0,i.jsx)(s.td,{children:"Non-blocking"}),(0,i.jsx)(s.td,{children:"Blocking (client waits)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Examples"}),(0,i.jsx)(s.td,{children:"Camera images, lidar scans"}),(0,i.jsx)(s.td,{children:"Path planning, calculations"})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"summary-and-next-steps",children:"Summary and Next Steps"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Key Takeaways:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"ROS 2 is a middleware framework that provides communication infrastructure for robots"}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Nodes"})," are independent processes that perform specific tasks"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Topics"})," enable asynchronous pub-sub communication between nodes"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Messages"})," define the data structures sent over topics"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Services"})," provide synchronous request-response communication"]}),"\n",(0,i.jsxs)(s.li,{children:["The ",(0,i.jsx)(s.strong,{children:"rclpy"})," library is the Python client for ROS 2"]}),"\n",(0,i.jsx)(s.li,{children:"ROS 2 CLI tools (ros2 node, ros2 topic) are essential for debugging"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"What You've Learned:"}),"\r\nYou now understand the fundamental architecture of ROS 2 and how nodes communicate via topics and services. You've created your first publisher and subscriber nodes, and you've seen a practical example of robot control using ROS 2 patterns."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Up Next:"}),"\r\nIn ",(0,i.jsx)(s.a,{href:"/Physical-AI-Humanoid-Robotics/docs/chapter4_gazebo_simulation",children:"Chapter 4: Gazebo for Robot Simulation"}),", we'll learn how to simulate robots in virtual environments using Gazebo. You'll apply your ROS 2 knowledge to control simulated robots, test algorithms safely, and visualize sensor data\u2014all before touching real hardware."]}),"\n",(0,i.jsx)(s.h2,{id:"exercises-and-challenges",children:"Exercises and Challenges"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Exercise 1: Custom Publisher"}),"\r\nModify the ",(0,i.jsx)(s.code,{children:"HelloPublisher"})," to publish random numbers instead of strings. Use the ",(0,i.jsx)(s.code,{children:"std_msgs/Int32"})," message type."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Exercise 2: Multi-Topic Subscriber"}),"\r\nCreate a node that subscribes to TWO topics simultaneously:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"/sensor_a"})," (String messages)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"/sensor_b"})," (Int32 messages)"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Log when messages arrive from each sensor."}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Exercise 3: Service Caller"}),"\r\nResearch ROS 2 services. Create a simple service that:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Request"}),": Two integers (a, b)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Response"}),": Their sum (a + b)"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Write both the service server and a client that calls it."}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Challenge: Velocity Smoother"}),"\r\nThe ",(0,i.jsx)(s.code,{children:"ObstacleAvoider"})," node changes velocity instantly, which can be jerky. Modify it to:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Gradually increase/decrease speed (smooth acceleration)"}),"\n",(0,i.jsx)(s.li,{children:"Use a low-pass filter or exponential smoothing"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Hint: Maintain a ",(0,i.jsx)(s.code,{children:"current_speed"})," variable and adjust it incrementally each callback."]}),"\n",(0,i.jsx)(s.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://docs.ros.org/en/humble/",children:"ROS 2 Official Documentation"})," - Comprehensive ROS 2 tutorials and API reference"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://docs.ros2.org/latest/api/rclpy/",children:"rclpy API Documentation"})," - Python client library reference"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://design.ros2.org/",children:"ROS 2 Design"})," - Architectural decisions and rationale behind ROS 2"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Topics/Understanding-ROS2-Topics.html",children:"Understanding ROS 2 Topics"})," - In-depth topic tutorial"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Ready to continue?"})," Chapter 4: Gazebo for Robot Simulation will be available soon, where you'll bring your ROS 2 knowledge into the world of simulation!"]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>t});var r=n(6540);const i={},l=r.createContext(i);function o(e){const s=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(l.Provider,{value:s},e.children)}}}]);